<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="./favicon.svg" />
    <title>The Blog Web Application</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link href="/style.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>

  <body class="bg-light">
    <%- include("partials/navbar.ejs")%>

    <!-- Hero Section -->
    <section class="hero-section position-relative overflow-hidden">
      <div class="hero-background"></div>
      <div class="container position-relative">
        <div class="row min-vh-75 align-items-center">
          <div class="col-lg-8 col-xl-7 mx-auto text-center text-white">
            <div class="hero-content" data-aos="fade-up" data-aos-delay="100">
              <h1 class="hero-title display-3 fw-bold mb-4">
                Create a Blog that
                <span class="text-gradient">People Love!</span>
              </h1>
              <p class="hero-subtitle lead mb-5 opacity-90">
                Share your thoughts, inspire others, and build a community
                around your ideas. Start your blogging journey today with our
                powerful platform.
              </p>
              <div class="hero-buttons">
                <a
                  href="/api/blogs"
                  class="btn btn-primary btn-lg me-3 hero-btn-primary"
                >
                  <i class="fas fa-pen-fancy me-2"></i>Start Blogging
                </a>
                <a
                  href="#featured-blogs"
                  class="btn btn-outline-light btn-lg hero-btn-secondary"
                >
                  <i class="fas fa-arrow-down me-2"></i>Explore Blogs
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Floating Elements -->
      <div class="floating-element floating-1"></div>
      <div class="floating-element floating-2"></div>
      <div class="floating-element floating-3"></div>
    </section>

    <!-- Featured Blogs Section -->
    <section id="featured-blogs" class="py-5">
      <div class="container">
        <div class="row mb-5">
          <div class="col-lg-8 mx-auto text-center">
            <div class="section-header" data-aos="fade-up">
              <h2 class="section-title display-5 fw-bold mb-3">
                Featured <span class="text-gradient">Blogs</span>
              </h2>
              <p class="section-subtitle lead text-muted">
                Discover amazing stories and insights from our community
              </p>
              <div class="section-divider"></div>
            </div>
          </div>
        </div>

        <!-- Blog Cards Grid -->
        <div class="row g-4">
          <% blogs.forEach((blog, index) => { %>
          <div
            class="col-lg-6 col-xl-4"
            data-aos="fade-up"
            data-aos-delay="<%= index * 100 %>"
          >
            <div class="blog-card">
              <div class="blog-card-image">
                <img
                  src="<%=blog.image%>"
                  alt="<%=blog.title%>"
                  class="img-fluid"
                />

                <div class="blog-card-category">
                  <span class="category-badge"><%=blog.category%></span>
                </div>
              </div>

              <div class="blog-card-content">
                <div class="blog-card-meta mb-3">
                  <%const created=new Date(blog.created_at);%> <%const options =
                  { month: "short", day: "numeric", year: "numeric" };%> <%const
                  formatted = created.toLocaleDateString("en-US", options);%>
                  <span class="meta-item">
                    <i class="fas fa-calendar-alt me-1"></i>
                    <%=formatted%>
                  </span>
                  <span class="meta-item">
                    <i class="fas fa-clock me-1"></i>
                    <%= Math.ceil((blog.blogcontent || '').length / 500) %> min
                    read
                  </span>
                </div>

                <h3 class="blog-card-title mb-3">
                  <a
                    href="<%= (blog.slug || blog.id || blog._id) ? ('/blogs/' + (blog.slug || blog.id || blog._id)) : '#' %>"
                  >
                    <%= blog.title || 'Featured post' %>
                  </a>
                </h3>

                <p class="blog-card-excerpt mb-4"><%=blog.blogcontent%></p>

                <div class="blog-card-footer">
                  <a
                    href="<%= (blog.slug || blog.id || blog._id) ? ('/blogs/' + (blog.slug || blog.id || blog._id)) : '#' %>"
                    class="read-more-btn"
                  >
                    Read More
                    <i class="fas fa-arrow-right ms-2"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
          <% }) %>
        </div>

        <!-- Load More Button -->
        <div class="row mt-5">
          <div class="col-12 text-center">
            <button class="btn btn-outline-primary btn-lg load-more-btn">
              <i class="fas fa-plus me-2"></i>Load More Blogs
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section py-5">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8 text-center">
            <div class="cta-content" data-aos="fade-up">
              <h2 class="cta-title display-5 fw-bold mb-4">
                Ready to Share Your Story?
              </h2>
              <p class="cta-text lead mb-5">
                Join many others who are already sharing their knowledge and
                experiences with the world.
              </p>
              <a href="/api/blogs" class="btn btn-primary btn-lg cta-btn">
                <i class="fas fa-rocket me-2"></i>Get Started Now
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- AOS Animation Library -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <!-- Custom Animations -->
    <script>
      // Initialize AOS
      AOS.init({
        duration: 800,
        easing: "ease-out-cubic",
        once: true,
        offset: 100,
      });

      // Floating elements animation
      function animateFloatingElements() {
        const elements = document.querySelectorAll(".floating-element");
        elements.forEach((el, index) => {
          el.style.animationDelay = `${index * 2}s`;
        });
      }

      // Card hover effects
      function initCardEffects() {
        const cards = document.querySelectorAll(".blog-card");
        cards.forEach((card) => {
          card.addEventListener("mouseenter", function () {
            this.style.transform = "translateY(-10px)";
          });

          card.addEventListener("mouseleave", function () {
            this.style.transform = "translateY(0)";
          });
        });
      }

      // Parallax effect for hero section (reduced intensity)
      function initParallax() {
        window.addEventListener("scroll", () => {
          const scrolled = window.pageYOffset;
          const hero = document.querySelector(".hero-section");
          if (hero) {
            // Reduced parallax effect to prevent overlap
            hero.style.transform = `translateY(${scrolled * 0.2}px)`;
          }
        });
      }

      // Navbar scroll effect
      function initNavbarScroll() {
        const navbar = document.querySelector(".navbar");
        if (navbar) {
          window.addEventListener("scroll", () => {
            if (window.scrollY > 50) {
              navbar.classList.add("scrolled");
            } else {
              navbar.classList.remove("scrolled");
            }
          });
        }
      }

      // Initialize all effects when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        animateFloatingElements();
        // initCardEffects();
        initParallax();
        initNavbarScroll();
      });

      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });
    </script>

    <%- include("partials/footer.ejs")%>
  </body>
</html>
